<?xml version="1.0" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>SWISS::GNs</title>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<link rev="made" href="mailto:operations@isb-sib.ch" />
</head>

<body style="background-color: white">


<!-- INDEX BEGIN -->
<div name="index">
<p><a name="__index__"></a></p>

<ul>

	<li><a href="#name">Name</a></li>
	<li><a href="#description">Description</a></li>
	<li><a href="#inherits_from">Inherits from</a></li>
	<li><a href="#attributes">Attributes</a></li>
	<li><a href="#methods">Methods</a></li>
	<ul>

		<li><a href="#standard_methods">Standard methods</a></li>
		<li><a href="#reading_writing_methods">Reading/Writing methods</a></li>
	</ul>

	<li><a href="#transition">TRANSITION</a></li>
</ul>

<hr name="index" />
</div>
<!-- INDEX END -->

<p>
</p>
<h1><a name="name">Name</a></h1>
<p>SWISS::GNs.pm</p>
<p>
</p>
<hr />
<h1><a name="description">Description</a></h1>
<p><strong>SWISS::GNs</strong> represents the GN lines within an SWISS-PROT + TrEMBL
entry as specified in the user manual
 <a href="http://www.expasy.org/sprot/userman.html">http://www.expasy.org/sprot/userman.html</a> . The GNs object is a 
container object which holds a list of SWISS::GeneGroup objects.</p>
<p>
</p>
<hr />
<h1><a name="inherits_from">Inherits from</a></h1>
<p>SWISS::ListBase.pm</p>
<p>
</p>
<hr />
<h1><a name="attributes">Attributes</a></h1>
<dl>
<dt><strong><a name="list" class="item"><code>list</code></a></strong></dt>

<dd>
<pre>
  Each list element is a SWISS::GeneGroup object.</pre>
</dd>
<dt><strong><a name="and" class="item"><code>and</code> <em>(deprecated, for old format only)</em></a></strong></dt>

<dd>
<pre>
  Delimiter used between genes. Defaults to &quot; AND &quot;.</pre>
</dd>
<dt><strong><a name="or" class="item"><code>or</code> <em>(deprecated, for old format only)</em></a></strong></dt>

<dd>
<pre>
  Delimiter used between gene names. Defaults to &quot; OR &quot;.</pre>
</dd>
</dl>
<p>
</p>
<hr />
<h1><a name="methods">Methods</a></h1>
<p>
</p>
<h2><a name="standard_methods">Standard methods</a></h2>
<dl>
<dt><strong><a name="new" class="item">new</a></strong></dt>

<dt><strong><a name="fromtext" class="item">fromText</a></strong></dt>

<dt><strong><a name="totext" class="item">toText</a></strong></dt>

</dl>
<p>
</p>
<h2><a name="reading_writing_methods">Reading/Writing methods</a></h2>
<dl>
<dt><strong><a name="text_newtext" class="item">text [($newText)]</a></strong></dt>

<dd>
<p>Sets the text of the GN line to the parameter if it is present, and returns
the (unwrapped) text of the line.  Also sets 'and' and 'or' delimiters to 
the first occurrences of the words &quot;OR&quot; and &quot;AND&quot; in the line, conserving
the case.</p>
</dd>
<dt><strong><a name="lowercase" class="item">lowercase <em>(deprecated, for old format only)</em></a></strong></dt>

<dd>
<p>Sets the GNs::and and GNs::or delimiters to their lower case
values.</p>
</dd>
<dt><strong><a name="uppercase" class="item">uppercase <em>(deprecated, for old format only)</em></a></strong></dt>

<dd>
<p>Sets the GNs::and and GNs::or delimiters to their upper case
values.</p>
</dd>
<dt><strong><a name="getfirst" class="item"><code>getFirst()</code></a></strong></dt>

<dd>
<p>Returns first gene name in gene line</p>
</dd>
<dt><strong><a name="gettags" class="item"><code>getTags($target)</code></a></strong></dt>

<dd>
<p>Returns evidence tags associated with $target</p>
<p>$target is a string</p>
</dd>
<dt><strong><a name="ispresent" class="item"><code>isPresent($target)</code></a></strong></dt>

<dd>
<p>Returns 1 if $target is present in the GN line</p>
<p>$target is a string</p>
</dd>
<dt><strong><a name="needsrecasing" class="item"><code>needsReCasing($target)</code></a></strong></dt>

<dd>
<p>If $target is present in the GN line, but wrongly cased, method returns the
matching name in its current case</p>
<p>$target is a string</p>
</dd>
<dt><strong><a name="replace" class="item">replace($newName, $target, $evidenceTag)</a></strong></dt>

<dd>
<p>Replaces the first GN object in the GN line whose text attribute is $target with
a new GN object whose text attribute is set to $newName and whose evidenceTags
attribute is is set using values set by splitting $evidenceTag on /, / (as name
is not being changed, programs should keep old tag and add new tag).  Does 
nothing if $target is not found.</p>
</dd>
<dt><strong><a name="delete" class="item"><code>delete($target)</code></a></strong></dt>

<dd>
<p>Removes synonym/single-member gene group matching $target. Note that if a &quot;Name&quot; 
is deleted, the first &quot;Synonym&quot; will be promoted to &quot;Name&quot;</p>
</dd>
<dt><strong><a name="addasnewsynonym" class="item">addAsNewSynonym($newName, $target, $evidenceTag, $location)</a></strong></dt>

<dd>
<p>Adds a new GN object (with text attribute set to new $newName, and evidenceTags
attribute set to ($evidenceTag)), as a synonym to the first gene group in which
$target is a gene name.  Does nothing if $target is not found.  Will not add a
duplicate gene name.  $location determines where in gene group new object is
added: if $location == 1, 2, 3, ..., new object added in the 1st, 2nd, 3rd, ... 
position; if $location == 0, new object added before $target; if $location
== -1, new object added after $target (default); if $location == -2, new object
added at end of gene group.  Note that if the new synonym is inserted in the 
first postion, it will become the &quot;Name&quot; and the previous &quot;Name&quot; will be downgraded
to first &quot;Synonym&quot;</p>
</dd>
<dt><strong><a name="addasnewgenegroup" class="item">addAsNewGeneGroup($newName, $target, $evidenceTag, $location)</a></strong></dt>

<dd>
<p>Adds a new GeneGroup object, comprising 1 GN object (with text attribute set to
new $newName, and evidenceTags attribute set to ($evidenceTag)). Will not add a
duplicate gene name.  $location and $target determine where in GNs line new 
group is added: if $location == 1, 2, 3, ..., new object added in the 1st, 2nd,
3rd, ... position; if $location == 0, new object added before $target; if
$location == -1, new object added after $target (default); if $location == -2,
new object added at end of GNs line.  Does nothing if $target is not found, and
$location == 0 or -1; otherwise $target does not need to be set.</p>
</dd>
<dt><strong><a name="replacegenegroup" class="item">replaceGeneGroup($newGeneGroup, $target)</a></strong></dt>

<dd>
<p>Replaces the first gene group containing $target with $newGeneGroup.  Creating
the $newGeneGroup correctly is the user's responsibility</p>
</dd>
<dt><strong><a name="getgenegroup" class="item"><code>getGeneGroup($target)</code></a></strong></dt>

<dd>
<p>Returns the first gene group that contains $target</p>
</dd>
<dt><strong><a name="settoor" class="item"><code>setToOr()</code></a></strong></dt>

<dd>
<p>Retruns a new GNs object, but with all GNs objects in a single gene group.  
Needed when adding 'C' to 'A and B', when the relationship of 'C' to 'A' and 
'B' is unknown: the universal use of ' or ' is the default delimeter for TrEMBL 
entries</p>
</dd>
</dl>
<p>
</p>
<hr />
<h1><a name="transition">TRANSITION</a></h1>
<p>The format of the GN line will change in 2004 from:</p>
<pre>
 GN   (CYSA1 OR CYSA OR RV3117 OR MT3199 OR MTCY164.27) AND (CYSA2 OR
 GN   RV0815C OR MT0837 OR MTV043.07C).

</pre>
<p>to:</p>
<pre>
 GN   Name=CysA1; Synonyms=CysA; OrderedLocusNames=Rv3117, MT3199;
 GN   ORFNames=MtCY164.27;
 GN   and
 GN   Name=CysA2; OrderedLocusNames=Rv0815c, MT0837; ORFNames=MTV043.07c;

</pre>
<p>This module supports both formats. To convert an entry from the old to
the new format, do:</p>
<pre>
 $entry-&gt;GNs-&gt;is_old_format(0);
</pre>

</body>

</html>
