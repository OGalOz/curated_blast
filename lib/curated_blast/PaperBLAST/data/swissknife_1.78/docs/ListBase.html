<?xml version="1.0" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>SWISS::ListBase</title>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<link rev="made" href="mailto:operations@isb-sib.ch" />
</head>

<body style="background-color: white">


<!-- INDEX BEGIN -->
<div name="index">
<p><a name="__index__"></a></p>

<ul>

	<li><a href="#name">Name</a></li>
	<li><a href="#description">Description</a></li>
	<li><a href="#attributes">Attributes</a></li>
	<li><a href="#methods">Methods</a></li>
	<ul>

		<li><a href="#standard_methods">Standard methods</a></li>
		<li><a href="#reading_methods">Reading methods</a></li>
		<li><a href="#writing_methods">Writing methods</a></li>
	</ul>

</ul>

<hr name="index" />
</div>
<!-- INDEX END -->

<p>
</p>
<h1><a name="name">Name</a></h1>
<p>SWISS::ListBase.pm</p>
<p>
</p>
<hr />
<h1><a name="description">Description</a></h1>
<p>Base class for list oriented classes in the SWISS:: hierarchy. It provides a set of quite general list manipulation methods to inheriting classes.</p>
<p>
</p>
<hr />
<h1><a name="attributes">Attributes</a></h1>
<dl>
<dt><strong><a name="list" class="item">list</a></strong></dt>

<dd>
<p>Holds an array, the essential content of the object. Array elements can be, and are in fact frequently, arrays themselves.</p>
</dd>
</dl>
<p>
</p>
<hr />
<h1><a name="methods">Methods</a></h1>
<p>
</p>
<h2><a name="standard_methods">Standard methods</a></h2>
<dl>
<dt><strong><a name="new" class="item">new</a></strong></dt>

<dt><strong><a name="initialize" class="item">initialize</a></strong></dt>

</dl>
<p>
</p>
<h2><a name="reading_methods">Reading methods</a></h2>
<dl>
<dt><strong><a name="head" class="item">head</a></strong></dt>

<dd>
<p>Return the first element of the list</p>
</dd>
<dt><strong><a name="tail" class="item">tail</a></strong></dt>

<dd>
<p>Return all but the first element of the list</p>
</dd>
<dt><strong><a name="get_pattern" class="item">get pattern</a></strong></dt>

<dd>
<p>Return a list of all elements matched by $pattern. Only exact matches are returned, but you can use Perls regular expressions. Example:</p>
<pre>
  $listBaseObject-&gt;set('EMBL', 'TREMBL', 'SWISSPROT'); 
  $listBaseObject-&gt;get('.*EMBL');</pre>
<p>returns ('EMBL', 'TREMBL')</p>
</dd>
<dt><strong><a name="get_patternlist" class="item">get @patternList</a></strong></dt>

<dd>
<p>To be used if the ListBase elements are arrays. An array is returned if all its elements are matched exactly by the elements from @patternList with the same index. Empty elements in @patternList always match. Example:</p>
<pre>
 $listBaseObject-&gt;set(['EMBL', 'M1', 'G1', '-'],
                      ['EMBL', 'M2', 'A2', '-'],
                      ['EMBL', 'M2', 'G3', 'ALT_TERM'],
                      ['PROSITE', 'P00001', '1433_2', '1']);
 $listBaseObject-&gt;get('EMBL');</pre>
<pre>
 returns (['EMBL', 'M1', 'G1', '-'],
          ['EMBL', 'M2', 'A2', '-'],
          ['EMBL', 'M2', 'G3', 'ALT_TERM'])
 
 $listBaseObject-&gt;get('',M2);</pre>
<pre>
 returns (['EMBL', 'M2', 'A2', '-'],
          ['EMBL', 'M2', 'G3', 'ALT_TERM']);</pre>
<p>Offering get in the interface is not particularly nice because it exports implementation details into the interface, but it is a powerful method which may save a lot of programming time. As an alternative, the 'filter' concept is available.</p>
</dd>
<dt><strong><a name="getobject_pattern" class="item">getObject pattern</a></strong></dt>

<dt><strong><a name="getobject_patternlist" class="item">getObject @patternList</a></strong></dt>

<dd>
<p>Same as get, but returns the results wrapped in a new ListBase object.</p>
</dd>
<dt><strong><a name="filter" class="item">filter</a></strong></dt>

<dd>
<p>Returns a new object containing all of the elements that match a search criteria. It takes a function as the only parameter. This function should expect a list element, and return true or false depending on whether the element matches the criteria. If the object is not a ListBase object but member of a subclass, a new object of that subclass will be returned.</p>
<p>Example:</p>
<pre>
 $tmp = $entry-&gt;CCs-&gt;filter(&amp;ccTopic('FUNCTION'));</pre>
<p>returns a SWISS::CCs object containing all CC blocks from $entry which have the topic 'FUNCTION'.</p>
<p>Functions can also be anonymous functions.</p>
</dd>
<dt><strong><a name="attributeequals" class="item">attributeEquals(string attributeName, string attributeValue)</a></strong></dt>

<dd>
<p>Filter function. If the elements of a ListBase object are objects, they will be returned by this function if they have the attribute and it equals the attributeValue.</p>
<pre>
 Example:</pre>
<p>$matchedKWs = $entry-&gt;KWs-&gt;filter(SWISS::ListBase::attributeEquals('text', $kw));</p>
</dd>
<dt><strong><a name="attributematchedby" class="item">attributeMatchedBy(string attributeName, string pattern)</a></strong></dt>

<dd>
<p>Filter function. If the elements of a ListBase object are objects, they will be returned by this function if they have the attribute and the attribute is matched by the pattern.</p>
<pre>
 Example:</pre>
<p>$matchedKWs = $entry-&gt;KWs-&gt;filter(SWISS::ListBase::attributeMatchedBy('text', $kw));</p>
</dd>
<dt><strong><a name="isempty" class="item">isEmpty</a></strong></dt>

<dt><strong><a name="size" class="item">size</a></strong></dt>

<dd>
<p>The number of list elements in the object</p>
</dd>
<dt><strong><a name="elements" class="item">elements</a></strong></dt>

<dd>
<p>Returns the array of elements</p>
</dd>
<dt><strong><a name="hasevidencetag_arraypointer_tag" class="item">hasEvidenceTag $arrayPointer $tag</a></strong></dt>

<dd>
<p>Returns true if the array pointed to by $arrayPointer has the evidence tag $tag</p>
</dd>
<dt><strong><a name="getevidencetags_arraypointer" class="item">getEvidenceTags $arrayPointer</a></strong></dt>

<dd>
<p>returns the array of evidence tags of $arrayPointer</p>
</dd>
<dt><strong><a name="getevidencetagsstring_arraypointer" class="item">getEvidenceTagsString $arrayPointer</a></strong></dt>

<dd>
<p>returns a string containing the evidence tags of $arrayPointer</p>
</dd>
</dl>
<p>
</p>
<h2><a name="writing_methods">Writing methods</a></h2>
<dl>
<dt><strong><a name="item_offset_newvalue" class="item">item offset[, newValue]</a></strong></dt>

<dd>
<p>returns the list element at a specific offset, and optionally sets it to a new value. Negative offsets are relative to the end of the list.</p>
</dd>
<dt><strong><a name="push_list" class="item">push list</a></strong></dt>

<dt><strong><a name="pop" class="item">pop</a></strong></dt>

<dt><strong><a name="shift" class="item">shift</a></strong></dt>

<dt><strong><a name="unshift_list" class="item">unshift list</a></strong></dt>

<dt><strong><a name="splice_offset_length_list" class="item">splice [offset[, length[, list]]]</a></strong></dt>

<dt><strong><a name="set_list" class="item">set list</a></strong></dt>

<dd>
<p>Sets the list attribute to @list</p>
</dd>
<dt><strong><a name="add_list" class="item">add list</a></strong></dt>

<dd>
<p>Synonym for push</p>
</dd>
<dt><strong><a name="merge" class="item">merge (ListBase)</a></strong></dt>

<dd>
<p>Appends the elements of ListBase to the object</p>
</dd>
<dt><strong><a name="sort_function" class="item">sort [function]</a></strong></dt>

<dd>
<p>Applies a sort function to the list attribute, or by default, alphabetical sorting. Should be overwritten in derived classes with an adapted sort function.</p>
</dd>
<dt><strong><a name="del_pattern" class="item">del pattern</a></strong></dt>

<dd>
<p>Deletes all items fully matching $pattern. Example:</p>
<pre>
  $listBaseObject-&gt;set('EMBL','TREMBL', 'SWISSPROT');
  $listBaseObject-&gt;del('EMBL');</pre>
<pre>
  $listBaseObject-&gt;list();</pre>
<pre>
  returns ('TREMBL','SWISSPROT').</pre>
<p>If you want to delete more, use something like</p>
<pre>
  $listBaseObject-&gt;del('.*EMBL')</pre>
<p>which deletes 'EMBL' and 'TREMBL'.</p>
</dd>
<dt><strong><a name="del_patternlist" class="item">del @patternList</a></strong></dt>

<dd>
<p>To be used if the ListBase objects are arrays. An array is deleted if all its elements are matched by the elements from @patternList with the same index.</p>
<p><strong>Warning: Empty elements in @patternList always match!</strong></p>
<p>Using the data from the get example above,</p>
<pre>
  $listBaseObject-&gt;del('','', 'A2')</pre>
<p>results in</p>
<pre>
  (['EMBL', 'M1', 'G1', '-'],
   ['EMBL', 'M2', 'G3', 'ALT_TERM'],
   ['PROSITE', 'P00001', '1433_2', '1'])</pre>
</dd>
<dt><strong><a name="update" class="item">update</a></strong></dt>

<dt><strong><a name="unique" class="item">unique</a></strong></dt>

<dd>
<p>Makes sure each element is contained only once in a ListBase object. The second and subsequent occurrences of the same object are deleted. Example:</p>
<pre>
  $listBaseObject-&gt;set(EMBL, TREMBL, SWISSPROT);
  $listBaseObject-&gt;add(EMBL, MGD, EMBL);
  $listBaseObject-&gt;unique();

</pre>
<p>results in (EMBL, TREMBL, SWISSPROT, MGD)</p>
</dd>
<dt><strong><a name="setevidencetags_arraypointer_array" class="item">setEvidenceTags $arrayPointer @array</a></strong></dt>

<dd>
<p>sets the evidence Tags of the array pointed to by $arrayPointer to the contents of @array</p>
<p>To be used if the ListBase elements are themselves arrays. A typical construct would be</p>
<pre>
  foreach $dr ($entry-&gt;DRs-&gt;elements()) {
    $entry-&gt;DRs-&gt;setEvidenceTags($dr, 'E2', 'E3');
  }

</pre>
<p>Returns $arrayPointer.</p>
</dd>
<dt><strong><a name="addevidencetag_arraypointer_tag" class="item">addEvidenceTag $arrayPointer $tag</a></strong></dt>

<dd>
<p>adds $tag to the evidence tags of $arrayPointer</p>
<p>To be used if the ListBase elements are themselves arrays. See documentation of setEvidenceTags.</p>
<p>Returns $arrayPointer.</p>
</dd>
<dt><strong><a name="deleteevidencetags_arraypointer_evidencetag" class="item">deleteEvidenceTags $arrayPointer $evidenceTag</a></strong></dt>

<dd>
<p>deletes $evidenceTag from the array pointed to by $arrayPointer</p>
<p>To be used if the ListBase elements are themselves arrays. A typical construct would be</p>
<pre>
  foreach $dr ($entry-&gt;DRs-&gt;elements()) {
    $entry-&gt;DRs-&gt;deleteEvidenceTags($dr, 'EC2');
  }

</pre>
<p>Returns $arrayPointer.</p>
</dd>
</dl>

</body>

</html>
